---
title: 我把生产服务器干烂了
date: '2024-12-21'
tags: ['linux', 'ssh']
draft: false
summary: 慎重操作生产服务器
---

- 原由：服务器的 SSH 需要升级，因为发现了一些 SSH 漏洞

- 过程：我使用的别人整理好的 rpm 文件，确实在测试服务器中升级成功了，但是在正式服务器中升级失败。可能是服务器的 glibc 版本太低，可能导致新版本 SSH 升级失败。（可能有人会问，为什么不自己编译，我在测试服务器自行编译成功升级了，使用 rpm 文件也成功升级了，于是就优先使用的 rpm 文件）

- 结果：升级失败后，SSH Session 直接断连，远程连接不上，只好联系服务器供应商。

- 庆幸：这个服务器没有在部署的应用，都停掉了，这是唯一庆幸的一点。

- 总结:

* 1.遇到 SSH 升级问题，联系供应商，不要自己尝试，就算自己尝试，提前在供应商那备份快照。
* 2.确实需要慎重操作服务器。涉及升级软件的操作，一定多测试测试，多准备几个测试环境。
* 3.工作的时候难免有急躁的时刻，这个时候才是真容易犯错, 不要嫌麻烦。
