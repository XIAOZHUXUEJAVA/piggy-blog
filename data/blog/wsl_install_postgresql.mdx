---
title: WSL2 å®‰è£… PostgreSQL
date: '2025-09-20'
tags: ['linux', 'database']
draft: false
summary: WSL2 install PostgreSQL
---

## ğŸ”¹ 1. æ›´æ–°ç³»ç»Ÿ

```bash
sudo apt update && sudo apt upgrade -y
```

---

## ğŸ”¹ 2. å®‰è£… PostgreSQL

```bash
sudo apt install postgresql postgresql-contrib -y
```

- **postgresql** â†’ æ ¸å¿ƒæ•°æ®åº“æœåŠ¡
- **postgresql-contrib** â†’ ä¸€äº›é¢å¤–çš„æ‰©å±•ï¼ˆå¦‚ `uuid-ossp`ï¼‰

---

## ğŸ”¹ 3. å¯åŠ¨ & ç®¡ç† PostgreSQL æœåŠ¡

åœ¨ WSL2 ä¸­éœ€è¦æ‰‹åŠ¨å¯åŠ¨æœåŠ¡ï¼š

```bash
sudo service postgresql start
```

æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š

```bash
sudo service postgresql status
```

---

## ğŸ”¹ 4. åˆ‡æ¢åˆ° postgres ç”¨æˆ·

PostgreSQL é»˜è®¤æœ‰ä¸€ä¸ªè¶…çº§ç”¨æˆ· **postgres**ï¼š

```bash
sudo -i -u postgres
```

è¿›å…¥æ•°æ®åº“å‘½ä»¤è¡Œï¼š

```bash
psql
```

---

## ğŸ”¹ 5. åˆ›å»ºç”¨æˆ·å’Œæ•°æ®åº“ï¼ˆå¯é€‰ï¼‰

åœ¨ `psql` ä¸­è¿è¡Œï¼š

```sql
-- åˆ›å»ºä¸€ä¸ªç”¨æˆ·
CREATE USER myuser WITH PASSWORD 'mypassword';

-- åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå¹¶æŒ‡å®šæ‰€æœ‰è€…
CREATE DATABASE mydb OWNER myuser;

-- èµ‹äºˆæƒé™
GRANT ALL PRIVILEGES ON DATABASE mydb TO myuser;
```

é€€å‡º `psql`ï¼š

```sql
\q
```

---

## ğŸ”¹ 6. å¼€æ”¾è¿œç¨‹è®¿é—®ï¼ˆå¯é€‰ï¼‰

### ç¼–è¾‘é…ç½®æ–‡ä»¶

```bash
sudo nano /etc/postgresql/14/main/postgresql.conf
```

æ‰¾åˆ°å¹¶ä¿®æ”¹ï¼š

```conf
listen_addresses = '*'
```

### ä¿®æ”¹è®¿é—®æ§åˆ¶

```bash
sudo nano /etc/postgresql/14/main/pg_hba.conf
```

æ·»åŠ ä¸€è¡Œï¼š

```conf
host    all             all             0.0.0.0/0               md5
```

### é‡å¯æœåŠ¡

```bash
sudo service postgresql restart
```

---

âœ… è‡³æ­¤ï¼Œä½ å·²ç»åœ¨ **WSL2 (Ubuntu)** ä¸ŠæˆåŠŸå®‰è£…å¹¶é…ç½®äº† **PostgreSQL**ã€‚
