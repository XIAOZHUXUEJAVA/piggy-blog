---
title: LeetCode-88.åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„
date: '2025-04-30'
tags: ['java', 'algorithm']
draft: false
summary: LeetCodeç»ƒçº§
---

## âœ¨ é¢˜ç›®ä»‹ç»

ç»™ä½ ä¸¤ä¸ª **å‡åºæ’åˆ—** çš„æ•´æ•°æ•°ç»„ `nums1` å’Œ `nums2`ï¼Œè¯·ä½ å°† `nums2` åˆå¹¶åˆ° `nums1` ä¸­ï¼Œä½¿å¾— `nums1` æˆä¸ºä¸€ä¸ªå‡åºæ•°ç»„ã€‚

- åˆå§‹æ—¶ï¼Œ`nums1` çš„é•¿åº¦ä¸º `m + n`ï¼Œå…¶ä¸­å‰ `m` ä¸ªå…ƒç´ ä¸ºæœ‰æ•ˆå…ƒç´ ï¼Œå `n` ä¸ªå…ƒç´ ä¸º 0ï¼ˆå ä½ï¼‰ã€‚
- `nums2` çš„é•¿åº¦ä¸º `n`ã€‚

ä½ éœ€è¦ **å°±åœ°ä¿®æ”¹** `nums1`ï¼Œä¸èƒ½è¿”å›æ–°æ•°ç»„ã€‚

LeetCode ä¸­çš„ç»å…¸é¢˜ç›®ï¼š[88. Merge Sorted Array](https://leetcode.cn/problems/merge-sorted-array/)

---

## ğŸ’¡ é¢˜ç›®æ€è·¯

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**åŒæŒ‡é’ˆå½’å¹¶æ’åºæ€æƒ³**ï¼Œç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ `nums1` å’Œ `nums2` çš„å½“å‰æ¯”è¾ƒå…ƒç´ ã€‚

- æŒ‡é’ˆ `i` åˆå§‹æŒ‡å‘ `nums1` çš„ç¬¬ä¸€ä¸ªæœ‰æ•ˆå…ƒç´ 
- æŒ‡é’ˆ `j` åˆå§‹æŒ‡å‘ `nums2` çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
- æ¯”è¾ƒä¸¤è€…çš„å¤§å°ï¼Œè¾ƒå°çš„å…ƒç´ æ”¾å…¥æ–°çš„ä½ç½®æ•°ç»„ `mergedArray`
- æœ€åå°† `mergedArray` å¤åˆ¶å› `nums1`

æ³¨æ„ï¼š

- åŸåœ°åˆå¹¶ï¼ˆä¸å€ŸåŠ©é¢å¤–æ•°ç»„ï¼‰çš„æ–¹æ³•ä¼šæ›´ä¼˜ï¼Œæœ¬æ–‡åœ¨â€œä¼˜åŒ–æ–¹æ¡ˆâ€éƒ¨åˆ†ä»‹ç»ã€‚

---

## ğŸ§® æ€è·¯æ¼”ç¤º

ä¸¾ä¸ªä¾‹å­ï¼š

```java
nums1 = [1,3,5,0,0,0], m = 3
nums2 = [2,4,6], n = 3
```

åˆå¹¶æ­¥éª¤å¦‚ä¸‹ï¼š

1. æ¯”è¾ƒ 1 å’Œ 2ï¼Œå– 1
2. æ¯”è¾ƒ 3 å’Œ 2ï¼Œå– 2
3. æ¯”è¾ƒ 3 å’Œ 4ï¼Œå– 3
4. æ¯”è¾ƒ 5 å’Œ 4ï¼Œå– 4
5. æ¯”è¾ƒ 5 å’Œ 6ï¼Œå– 5
6. nums2 è¿˜å‰© 6ï¼Œæ”¾å…¥

æœ€ç»ˆï¼š`nums1 = [1,2,3,4,5,6]`

---

## ğŸ’» é¢˜ç›®ä»£ç å®ç°ï¼ˆå«æµ‹è¯•ï¼‰

```java
import java.util.Arrays;

public class ProblemMergeSortedArray {

    public static void merge(int[] nums1, int m, int[] nums2, int n) {
        if (nums1 == null || nums2 == null) {
            throw new IllegalArgumentException("Input arrays must not be null!");
        }
        if (m < 0 || n < 0) {
            throw new IllegalArgumentException("Length parameters must be non-negative!");
        }
        if (m + n > nums1.length) {
            throw new IllegalArgumentException("nums1 Length is insufficient to hold merged result!");
        }
        if (m > nums1.length || n > nums2.length) {
            throw new IllegalArgumentException("Length parameter exceed actual array length!");
        }

        int nums1Index = 0, nums2Index = 0, mergedIndex = 0;
        int[] mergedArray = new int[m + n];

        while (nums1Index < m && nums2Index < n) {
            if (nums1[nums1Index] < nums2[nums2Index]) {
                mergedArray[mergedIndex++] = nums1[nums1Index++];
            } else {
                mergedArray[mergedIndex++] = nums2[nums2Index++];
            }
        }

        while (nums1Index < m) {
            mergedArray[mergedIndex++] = nums1[nums1Index++];
        }

        while (nums2Index < n) {
            mergedArray[mergedIndex++] = nums2[nums2Index++];
        }

        System.arraycopy(mergedArray, 0, nums1, 0, m + n);
    }

    public static void testMerge(String testName, int[] nums1, int m, int[] nums2, int n, int[] expected) {
        System.out.println("=== Test Case: " + testName + " ===");
        try {
            int[] originalNums1 = nums1 != null ? Arrays.copyOf(nums1, nums1.length) : null;

            if (expected == null) {
                try {
                    merge(nums1, m, nums2, n);
                    System.out.println("FAIL - Expected exception but none thrown");
                } catch (Exception e) {
                    System.out.println("PASS - Caught expected exception: " + e.getClass().getSimpleName() + " - " + e.getMessage());
                }
            } else {
                merge(nums1, m, nums2, n);
                if (Arrays.equals(nums1, expected)) {
                    System.out.println("PASS");
                } else {
                    System.out.println("FAIL");
                }
                System.out.println("Input nums1: " + Arrays.toString(originalNums1) + ", m: " + m);
                System.out.println("Input nums2: " + Arrays.toString(nums2) + ", n: " + n);
                System.out.println("Expected:    " + Arrays.toString(expected));
                System.out.println("Actual:      " + Arrays.toString(nums1));
            }
        } catch (Exception e) {
            System.out.println("FAIL - Unexpected exception: " + e.getMessage());
        }
    }

    public static void main(String[] args) {
        // âœ… æ­£å¸¸æƒ…å†µæµ‹è¯•
        testMerge("Both arrays with elements",
                new int[]{1, 3, 5, 0, 0, 0}, 3,
                new int[]{2, 4, 6}, 3,
                new int[]{1, 2, 3, 4, 5, 6});

        testMerge("nums1 empty",
                new int[]{0, 0, 0}, 0,
                new int[]{2, 4, 6}, 3,
                new int[]{2, 4, 6});

        testMerge("nums2 empty",
                new int[]{1}, 1,
                new int[]{}, 0,
                new int[]{1});

        testMerge("All elements same",
                new int[]{2, 2, 2, 0, 0}, 3,
                new int[]{2, 2}, 2,
                new int[]{2, 2, 2, 2, 2});

        testMerge("With duplicates",
                new int[]{1, 2, 3, 0, 0, 0}, 3,
                new int[]{2, 5, 6}, 3,
                new int[]{1, 2, 2, 3, 5, 6});

        // âŒ å¼‚å¸¸æƒ…å†µæµ‹è¯•
        testMerge("nums1 is null", null, 0, new int[]{1, 2}, 2, null);
        testMerge("nums2 is null", new int[]{1, 2, 0}, 2, null, 1, null);
        testMerge("m is negative", new int[]{1, 2, 0}, -1, new int[]{3}, 1, null);
        testMerge("n is negative", new int[]{1, 2, 0}, 2, new int[]{3}, -1, null);
        testMerge("nums1 too short", new int[]{1, 2}, 2, new int[]{3, 4}, 2, null);
        testMerge("m exceeds nums1 length", new int[]{1, 2}, 3, new int[]{3}, 1, null);
        testMerge("n exceeds nums2 length", new int[]{1, 2, 0}, 2, new int[]{3}, 2, null);
    }
}
```

---

## â±ï¸ æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(m + n)
  æ¯ä¸ªå…ƒç´ éƒ½åªéå†äº†ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(m + n)
  ä½¿ç”¨äº†ä¸€ä¸ªé¢å¤–æ•°ç»„ `mergedArray` å­˜å‚¨åˆå¹¶ç»“æœã€‚

---

## ğŸš€ ç®—æ³•ä¼˜åŒ–æ–¹æ¡ˆï¼ˆæ›´å¥½çš„å†™æ³•ï¼‰

é¢˜ç›®è¦æ±‚åœ¨ `nums1` åŸåœ°ä¿®æ”¹ã€‚æˆ‘ä»¬å¯ä»¥ **ä»åå¾€å‰éå†**ï¼Œè¿™æ ·å°±èƒ½ç›´æ¥åœ¨ `nums1` ä¸­æ”¾ç½®æœ€å¤§å…ƒç´ ï¼Œæ— éœ€é¢å¤–æ•°ç»„ï¼š

```java
public void merge(int[] nums1, int m, int[] nums2, int n) {
    int i = m - 1, j = n - 1, k = m + n - 1;

    while (i >= 0 && j >= 0) {
        nums1[k--] = nums1[i] > nums2[j] ? nums1[i--] : nums2[j--];
    }

    while (j >= 0) {
        nums1[k--] = nums2[j--];
    }
}
```

- æ—¶é—´å¤æ‚åº¦ä»ä¸º O(m + n)
- ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œ**æ— éœ€é¢å¤–æ•°ç»„**

---

## âœ… æ€»ç»“

- æœ¬é¢˜æœ¬è´¨æ˜¯å½’å¹¶æ’åºçš„åˆå¹¶è¿‡ç¨‹ã€‚
- åˆå§‹å†™æ³•é€»è¾‘æ¸…æ™°ä½†ä½¿ç”¨äº†é¢å¤–æ•°ç»„ï¼Œå¯ä»¥ä½œä¸ºç†è§£ç®—æ³•çš„ç¬¬ä¸€æ­¥ã€‚
- æœ€ç»ˆæ¨èä½¿ç”¨ä»åå‘å‰åŸåœ°åˆå¹¶çš„æ–¹æ³•ï¼Œæå‡ç©ºé—´æ•ˆç‡ã€‚
